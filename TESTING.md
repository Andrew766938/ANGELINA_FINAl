# üê´ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

> **–í–µ—Ä—Å–∏—è:** 2.0  
> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 19 –¥–µ–∫–∞–±—Ä—è 2025–≥.  
> **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ–¥—Ä–µ–Ω—ã

---

## üöÄ –ì—Ä–∞–ø–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ #1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

**–ß—Ç–æ –±—ã–ª–æ:**
```javascript
// –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –±–∏–ª–µ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∞ –Ω–∞:
/bookings/{id}?is_admin=true  ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
```

**–ß—Ç–æ —Å—Ç–∞–ª–æ:**
```javascript
// –¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞:
/flights/{id}  ‚úÖ –ü–û–õ–ù–û
```

–§–∏–∫—Å: `templates/index.html` - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–π—Å—ã 

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ #2: –ù–µ –≥—Ä—É–∂–∞—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–π—Å—ã

**–ß—Ç–æ –±—ã–ª–æ:**
- –ü—Ä–∏ –∫–æ–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–µ–π—Å—ã —Ç–µ—Ä—è–ª–∏—Å—å
- `"–û—à–∏–±–∫–∞: Flight not found: 1"`
- –ö–Ω–æ–ø–∫–∞ –¥–µ–ª–∞–ª–∞ 400 Bad Request

**–ß—Ç–æ —Å—Ç–∞–ª–æ:**
- –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `app/database/init_db.py`
- –¶–∏–∫–ª –≤–∫–ª—é—á–∞–µ—Ç **6 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ä–µ–π—Å–æ–≤**
- –ì–∞—Ä–∞–Ω—Ç–∏—è: —Ä–µ–π—Å—ã –í–°–ï–ì–î–ê –ª–æ–∞–¥—è—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ö–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ

–§–∏–∫—Å: `app/database/init_db.py`, `main.py` 

---

## üìÑ –ß—Ç–æ –ª–æ–∞–¥–∏—Ç—Å—è —Å–µ–π—á–∞—Å

### üè¢ –ê—ç—Ä–æ–ø–æ—Ä—Ç—ã (5 —à—Ç)

```
1. MOW - –®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ (–ú–æ—Å–∫–≤–∞)
2. SPB - –ü—É–ª–∫–æ–≤–æ (–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)
3. KZN - –ö–∞–∑–∞–Ω—å (–ö–∞–∑–∞–Ω—å)
4. SVX - –ö–æ–ª—å—Ü–æ–≤–æ (–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥)
5. YKA - –ü–ª–æ—â–∞–¥—å –õ–µ–Ω–∏–Ω–∞ (–Ø–∫—É—Ç—Å–∫)
```

### ‚úàÔ∏è –†–µ–π—Å—ã (6 —à—Ç)

```
ID  –ù–æ–º–µ—Ä    –û—Ç–∫—É–¥–∞  –ö—É–¥–∞  –ö–æ–º–ø–∞–Ω–∏—è           –ú–µ—Å—Ç–∞  –¶–µ–Ω–∞
---  --------  --------  ------  -------------------  --------  ---------
1    SU-001    MOW       SPB     –ê—ç—Ä–æ—Ñ–ª–æ—Ç        180      5500 ‚ÇΩ
2    SU-002    SPB       MOW     –ê—ç—Ä–æ—Ñ–ª–æ—Ç        180      5500 ‚ÇΩ
3    U6-100    MOW       KZN     –£—Ä–∞–ª—å—Å–∫–∏–µ      150      4800 ‚ÇΩ
4    UT-50     KZN       SVX     –Æ—Ç-–ê—ç—Ä          160      6200 ‚ÇΩ
5    S7-500    SPB       SVX     S7 –ê–≤–∏–∞–ª–∏–Ω–∏–∏   120      7200 ‚ÇΩ
6    SU-003    MOW       YKA     –ê—ç—Ä–æ—Ñ–ª–æ—Ç        200      8500 ‚ÇΩ
```

---

## ü©ê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å (Ctrl+C)
python main.py

# –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:
# üöÄ –ö—Ä—ã–ª—å—è –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ä—Ç—É–µ—Ç...
# üóÑÔ∏è  –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î...
# ‚úÖ –ë–î —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ (3 —Ç–∞–±–ª–∏—Ü)
# üå± –ü—Ä–æ–≤–µ—Ä—è—é —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ...
# ‚úÖ –ê—ç—Ä–æ–ø–æ—Ä—Ç—ã —É–∂–µ –µ—Å—Ç—å (5 —à—Ç)
# ‚úÖ –†–µ–π—Å—ã —É–∂–µ –µ—Å—Ç—å (6 —à—Ç)
# ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!
```

### ‚úÖ –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å—å –õ–û–ì–ò–ù

1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost:8000`
2. –û–±—ã—á–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—ç–º–µ–π–ª: `user@example.com`)
3. –õ–∏–±–æ –≤–∞–π–¥–∏ –∫–∞–∫ –≥–æ—Å—Ç—å

### ‚úÖ –®–∞–≥ 3: –í—ã–±—Ä–∞—Ç—å —Ä–µ–π—Å –∏ –Ω–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É üéüÔ∏è

**–í —Ç–∞–±–µ "üõ´ –†–µ–π—Å—ã":**
- —Ç–∞–±–ª–∏—Ü–∞ —Å –≤—Å–µ–º–∏ 6 —Ä–µ–π—Å–∞–º–∏
- –ù–∞–∂–º–∏ **üéüÔ∏è ZABRONIROVAT'**

### ‚úÖ –®–∞–≥ 4: –ù–∞–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

- **–§–ò–û:** –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
- **Email:** ivan@example.com
- **–¢–µ–ª–µ—Ñ–æ–Ω:** +7 999 123-45-67
- **–ö–æ–ª-–≤–æ –º–µ—Å—Ç:** 1
- –ù–∞–∂–º–∏ **‚úÖ –ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨**

### ‚úÖ –©–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Ç–∞–±–µ "üé´ –ë–∏–ª–µ—Ç—ã"

- –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤–∞—à –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–π—Å
- –Ω–æ–º–µ—Ä –±—Ä–æ–Ω–∏ (BK-????????)
- —Å—Ç–∞—Ç—É—Å –¥–æ–ª–∂–æ–Ω –±—ã—Ç—å "confirmed" –∏–ª–∏ "pending"

---

## üóëÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –£–î–ê–õ–ï–ù–ò–ô

### –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–π—Å–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

```bash
DELETE http://localhost:8000/flights/1

# –û–∂–∏–¥–∞–µ–º—ã–π –û—Ç–≤–µ—Ç:
# HTTP 204 No Content
# (no body)
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

```bash
DELETE http://localhost:8000/flights/airports/1

# –û–∂–∏–¥–∞–µ–º—ã–π –û—Ç–≤–µ—Ç:
# HTTP 204 No Content
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î

–û—Ç–∫—Ä—ã—Ç—å DB Browser –¥–ª—è SQLite –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```sql
-- –ü—Ä–æ–≤–µ—Ä—ã—Ç—å, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–¥–∞–ª–µ–Ω

SELECT COUNT(*) FROM flights WHERE id = 1;
-- –û–∂–∏–¥–∞–µ–º–æ: 0

SELECT * FROM flights;
-- –¢–µ–ø–µ—Ä—å 5 —Ä–µ–π—Å–æ–≤ (–º–µ—Å—Ç–æ 6)

SELECT COUNT(*) FROM airports WHERE id = 1;
-- –û–∂–∏–¥–∞–µ–º–æ: 0
```

---

## üõ†Ô∏è –ü—ã—Ç–∞–Ω–∏–µ —É–¥–∞–ª–∏—Ç—å —Ç–æ, —á—Ç–æ —É–∂–µ —É–¥–∞–ª–µ–Ω–æ

```bash
DELETE http://localhost:8000/flights/1  # (–µ—Å–ª–∏ —É–∂–µ —É–¥–∞–ª–∏)

# –û—á–∏—Å–∫–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
# HTTP 404 Not Found
# {
#   "detail": "Flight with id 1 not found"
# }
```

---

## üìä –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–∫—Å–æ–≤

| –û–ø–∏—Å–∞–Ω–∏–µ | –§–∞–π–ª | –ö–æ–º–º–∏—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|------|--------|-------|
| üêõ Fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è | `templates/index.html` | 9256327 | ‚úÖ |
| ‚ú® feat: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Å–æ–≤ | `main.py` | 391e1c2 | ‚úÖ |
| ‚ú® feat: —Å–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å init_db | `app/database/init_db.py` | b095e41 | ‚úÖ |
| ‚ôªÔ∏è refactor: –æ—á–∏—Å—Ç–∫–∞ main.py | `main.py` | 2ec6ad | ‚úÖ |
| üêõ fix: –≥–∞—Ä–∞–Ω—Ç–∏—è –ª–æ–∞–¥–∏–Ω–≥–∞ | `app/database/init_db.py` | 1e8401c | ‚úÖ |

---

## üìà –û–≤–µ—Ä–≤—å—é–∏—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
üöÄ Startup
  ‚Üì
üìÑ main.py (cleanest ever!)
  ‚Üì
üóÑÔ∏è  app/database/init_db.py
  ‚Üì
  üóÑÔ∏è  Base.metadata.create_all() ‚úÖ –¢–∞–±–ª–∏—Ü—ã
  ‚Üì
  ‚úîÔ∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å 5 –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤
  ‚Üì  
  ‚úîÔ∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å 6 —Ä–µ–π—Å–æ–≤
  ‚Üì
‚úÖ Uvicorn Ready!
```

---

## üéâ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –ö–Ω–æ–ø–∫–∞ "üéüÔ∏è –ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨" **–≤—Å–µ–≥–¥–∞** –ø—Ä–∏–Ω—è–º–∞–µ—Ç —Ä–µ–π—Å
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **204 No Content**
- ‚úÖ –ü–æ—Ç–æ–º –∞—ç—Ä–æ–ø–æ—Ä—Ç—ã –∏ —Ä–µ–π—Å—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (–ü–û–¢–û–ú –Ω–æ–≤—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ)
- ‚úÖ **Production-Ready** üöÄ
