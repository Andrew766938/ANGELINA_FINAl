<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Крылья онлайн - Бронирование авиабилетов</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- Навигация -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <span class="logo-icon">✏</span>
                <span class="logo-text">Крылья онлайн</span>
            </div>
            <div class="navbar-menu" id="navMenu">
                <a href="#search" class="nav-link">Поиск рейсов</a>
                <a href="#bookings" class="nav-link">Мои билеты</a>
                <a href="#admin" class="nav-link">Админ-панель</a>
                <button class="btn-logout" id="logoutBtn" style="display:none;">Выход</button>
                <button class="btn-auth" id="authBtn" onclick="openAuthModal()">Вход</button>
            </div>
        </div>
    </nav>

    <!-- Модаль авторизации -->
    <div class="modal" id="authModal">
        <div class="modal-content">
            <span class="close" onclick="closeAuthModal()">&times;</span>
            <h2>Вход / Нет аккаунта?</h2>
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="switchTab('login')">Вход</button>
                <button class="tab-btn" onclick="switchTab('register')">Регистрация</button>
            </div>

            <!-- Вход -->
            <div id="loginTab" class="tab-content active">
                <form id="loginForm">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Пароль</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn-primary">Войти</button>
                </form>
            </div>

            <!-- Нет аккаунта? -->
            <div id="registerTab" class="tab-content">
                <form id="registerForm">
                    <div class="form-group">
                        <label>Имя</label>
                        <input type="text" id="registerName" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="registerEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Пароль</label>
                        <input type="password" id="registerPassword" required>
                    </div>
                    <button type="submit" class="btn-primary">Зарегистрироваться</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Поиск рейсов -->
    <section id="search" class="hero">
        <div class="hero-content">
            <h1>Найдите лучшие рейсы</h1>
            <p>Бронируйте авиабилеты на должные перелеты</p>
            
            <div class="search-form">
                <div class="form-row">
                    <div class="form-group">
                        <label>Откуда</label>
                        <select id="departureAirport" class="form-control">
                            <option value="">Выбрать аэропорт</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Куда</label>
                        <select id="arrivalAirport" class="form-control">
                            <option value="">Выбрать аэропорт</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Дата вылета</label>
                        <input type="date" id="departureDate" class="form-control">
                    </div>
                    <button type="button" class="btn-primary" onclick="searchFlights()">
                        <span>Поиск</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Результаты поиска -->
    <section id="searchResults" class="search-results-section">
        <div class="container">
            <h2>Доступные рейсы</h2>
            <div class="flights-grid" id="flightsGrid">
                <p class="empty-state">Укажите параметры поиска и кликните "Поиск"</p>
            </div>
        </div>
    </section>

    <!-- Мои бронирования -->
    <section id="bookings" class="bookings-section">
        <div class="container">
            <h2>Мои бронирования</h2>
            <div id="bookingsList" class="bookings-list">
                <p class="empty-state">Пожалуйста, войдите чтобы увидеть ваши бронирования</p>
            </div>
        </div>
    </section>

    <!-- Модаль деталей рейса -->
    <div class="modal" id="flightModal">
        <div class="modal-content modal-large">
            <span class="close" onclick="closeFlightModal()">&times;</span>
            <h2 id="flightTitle">Детали рейса</h2>
            <div id="flightDetails" class="flight-details">
                <!-- Заполняется JS -->
            </div>
            <div class="booking-form">
                <h3>Кто бронирует?</h3>
                <form id="bookingForm">
                    <div class="form-group">
                        <label>ФИО пассажира</label>
                        <input type="text" id="passengerName" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="passengerEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Телефон</label>
                        <input type="tel" id="passengerPhone" required>
                    </div>
                    <div class="form-group">
                        <label>Количество мест</label>
                        <input type="number" id="seatsCount" min="1" value="1" required>
                    </div>
                    <button type="submit" class="btn-primary btn-full">Забронировать</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Модаль админ-панели -->
    <div class="modal" id="adminModal">
        <div class="modal-content modal-large">
            <span class="close" onclick="closeAdminModal()">&times;</span>
            <h2>Админ-панель</h2>
            <div class="admin-tabs">
                <button class="tab-btn active" onclick="switchAdminTab('flights')">Рейсы</button>
                <button class="tab-btn" onclick="switchAdminTab('airports')">Аэропорты</button>
            </div>

            <!-- Управление рейсами -->
            <div id="adminFlights" class="admin-tab active">
                <h3>Добавить новый рейс</h3>
                <form id="addFlightForm" class="admin-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Номер рейса</label>
                            <input type="text" id="flightNumber" required>
                        </div>
                        <div class="form-group">
                            <label>Авиакомпания</label>
                            <input type="text" id="airline" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Из аэропорта</label>
                            <select id="adminDeparture" class="form-control" required></select>
                        </div>
                        <div class="form-group">
                            <label>В аэропорт</label>
                            <select id="adminArrival" class="form-control" required></select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Дата/время вылета</label>
                            <input type="datetime-local" id="departureTime" required>
                        </div>
                        <div class="form-group">
                            <label>Дата/время прилета</label>
                            <input type="datetime-local" id="arrivalTime" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Всего мест</label>
                            <input type="number" id="totalSeats" min="1" required>
                        </div>
                        <div class="form-group">
                            <label>Свободных мест</label>
                            <input type="number" id="availableSeats" min="1" required>
                        </div>
                        <div class="form-group">
                            <label>Цена за место ($)</label>
                            <input type="number" id="price" min="1" step="0.01" required>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary">Добавить рейс</button>
                </form>
            </div>

            <!-- Управление аэропортами -->
            <div id="adminAirports" class="admin-tab">
                <h3>Добавить новый аэропорт</h3>
                <form id="addAirportForm" class="admin-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Код (3 буквы)</label>
                            <input type="text" id="airportCode" maxlength="3" required>
                        </div>
                        <div class="form-group">
                            <label>Название</label>
                            <input type="text" id="airportName" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Город</label>
                            <input type="text" id="airportCity" required>
                        </div>
                        <div class="form-group">
                            <label>Страна</label>
                            <input type="text" id="airportCountry" required>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary">Добавить аэропорт</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Уведомления -->
    <div id="notification" class="notification"></div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 Крылья онлайн - Система бронирования авиабилетов</p>
    </footer>

    <script src="/static/script.js"></script>
</body>
</html>
